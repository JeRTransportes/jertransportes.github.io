'use strict';(function(){'use strict';var a=function(a,b,c,d){return window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),function(a,b,c,d){function e(){h+=1/60;var b=h/i,f=j[c](b);1>b?(requestAnimFrame(e),window.scrollTo(0,g+(a-g)*f)):(d(),window.scrollTo(0,a))}var f=Math.PI,g=window.scrollY||document.documentElement.scrollTop,a=a||0,b=b||2e3,c=c||'easeOutSine',h=0,i=Math.max(.1,Math.min(Math.abs(g-a)/b,.8)),j={easeOutSine:function easeOutSine(a){return Math.sin(a*(f/2))},easeInOutSine:function easeInOutSine(a){return-.5*(Math.cos(f*a)-1)},easeInOutQuint:function easeInOutQuint(a){var b=Math.pow;return 1>(a/=.5)?.5*b(a,5):.5*(b(a-2,5)+2)}};e()}(a,b,c,d)};Element.prototype.prependChild=function(a){this.insertBefore(a,this.firstChild)};var b=document.querySelector('.nav-bar');if(b){var e=function(c){if(i.classList.contains('closed')?(i.classList.remove('closed'),f.classList.remove('closed')):(i.classList.add('closed'),f.classList.add('closed')),c.target.href){c.preventDefault();var d=c.target.attributes.href.nodeValue.toString();if(!d)return;var e=h.getBoundingClientRect().height||b.getBoundingClientRect().height,g=document.querySelector(d);if(g){var j=g.offsetTop-e;a(j,500,'easeInOutQuint',function(){return!1})}}},f=b.querySelector('.nav-links'),g=document.title,h=b.cloneNode(!0),i=h.querySelector('.nav-links'),j=b.querySelector('.nav-toggle .nav-logo').cloneNode(!0),k=Array.prototype.map.call(i.querySelectorAll('a[href^="#"]'),function(a){return document.querySelector(a.attributes.href.nodeValue.toString())});h.classList.add('fixed'),i.prependChild(j),i.classList.add('closed'),window.addEventListener('scroll',function onPageScroll(){var a=b.getBoundingClientRect().top,c=document.body.contains(h);0>=a?c||document.body.appendChild(h):c&&document.body.removeChild(h);var d,e;k.forEach(function(a){var b=a.getBoundingClientRect().top-window.innerHeight/2;0<b||a.hasAttribute('data-title')&&(d=a.getAttribute('data-title'),e=a.id)}),document.title=d?g+' - '+d:g,Array.prototype.forEach.call(i.querySelectorAll('a'),function(b){return b.attributes.href.nodeValue.toString()==='#'+e?b.classList.add('selected'):b.classList.remove('selected')})},!1),b.addEventListener('click',e,!1),h.addEventListener('click',e,!1)}var c=document.querySelectorAll('[data-entrance-style]');if(c.length){var l=window.innerHeight;Array.prototype.forEach.call(c,function(a){return a.setAttribute('data-entrance','hide')}),window.addEventListener('scroll',function entranceHandler(){Array.prototype.forEach.call(c,function(a){if(a.getAttribute('data-entrance')===a.getAttribute('data-entrance-style'))return!1;var b=a.getBoundingClientRect().top;b<=.75*l&&a.setAttribute('data-entrance',a.getAttribute('data-entrance-style'))})},!1)}var d=document.querySelector('.bg-caminhao');if(d){var m=function(a){o.style.transform='translate('+-1*a+'px)'},n=300,o=d.querySelector('.bg-caminhao-inner'),p=window.innerHeight;m(n),o.style.right=-1*n+'px',window.addEventListener('scroll',function scrollHandler(){var a=o.getBoundingClientRect().top;a<=p&&0<=a&&m(Math.ceil(a)/p*n)},!1)}})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93IiwicmVxdWVzdEFuaW1GcmFtZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNldFRpbWVvdXQiLCJzY3JvbGxUbyIsIk1hdGgiLCJQSSIsInNjcm9sbFkiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsInNjcm9sbFRvcCIsIm1heCIsIm1pbiIsImFicyIsImVhc2VPdXRTaW5lIiwic2luIiwiZWFzZUluT3V0U2luZSIsImNvcyIsImVhc2VJbk91dFF1aW50IiwicG93IiwiRWxlbWVudCIsInByb3RvdHlwZSIsInByZXBlbmRDaGlsZCIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJxdWVyeVNlbGVjdG9yIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJyZW1vdmUiLCJhZGQiLCJ0YXJnZXQiLCJocmVmIiwicHJldmVudERlZmF1bHQiLCJhdHRyaWJ1dGVzIiwibm9kZVZhbHVlIiwidG9TdHJpbmciLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJoZWlnaHQiLCJvZmZzZXRUb3AiLCJ0aXRsZSIsImNsb25lTm9kZSIsIkFycmF5IiwibWFwIiwiY2FsbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRFdmVudExpc3RlbmVyIiwib25QYWdlU2Nyb2xsIiwidG9wIiwiYm9keSIsImFwcGVuZENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJmb3JFYWNoIiwiaW5uZXJIZWlnaHQiLCJoYXNBdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJpZCIsImxlbmd0aCIsInNldEF0dHJpYnV0ZSIsImVudHJhbmNlSGFuZGxlciIsInN0eWxlIiwidHJhbnNmb3JtIiwicmlnaHQiLCJzY3JvbGxIYW5kbGVyIiwiY2VpbCJdLCJtYXBwaW5ncyI6ImFBQUMsV0FBWSxDQUNiLGFBRUEsR0FBSSxHQUFZLGlCQUEyQyxDQVd2RCxN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QW5CLENBQW9DLEVBQU1ILFlBQU4sQ0FBbUIscUJBQW5CLENBQXBDLENBQ3RCLENBSkQsQ0FLQSxDQVBELElBU0EsQ0FFRCxHQUFNLEdBQVk5QyxTQUFTaUIsYUFBVCxDQUF1QixjQUF2QixDQUFsQixDQUVBLEtBQWUsT0FjZCxXQUF3QixDQUFDLEVBQU1rQyxLQUFOLENBQVlDLFNBQVosQ0FBd0IsYUFBb0IsQ0FBQyxDQUFOLEVBQWYsQ0FBMEIsS0FBTyxDQWRwRSxDQUNSLEVBQVMsR0FERCxDQUVSLEVBQVEsRUFBVW5DLGFBQVYsQ0FBd0Isb0JBQXhCLENBRkEsQ0FHUixFQUFLM0IsT0FBT3NELFdBSEosQ0FLZCxJQUxjLENBTWQsRUFBTU8sS0FBTixDQUFZRSxLQUFaLENBQThCLENBQUMsQ0FBWCxHQUFnQixJQU50QixDQU9kL0QsT0FBTytDLGdCQUFQLENBQXdCLFFBQXhCLENBRUEsUUFBU2lCLGNBQVQsRUFBeUIsQ0FDeEIsR0FBTSxHQUFJLEVBQU0xQixxQkFBTixHQUE4QlcsR0FBeEMsQ0FDSSxNQUFZLENBQUgsR0FGVyxFQUVMLEVBQVkxQyxLQUFLMEQsSUFBTCxPQUFaLENBQ25CLENBTEQsSUFRQSxDQUVBLENBbkxBLEciLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoKSB7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBzY3JvbGxUb1kgPSBmdW5jdGlvbihzY3JvbGxUYXJnZXRZLCBzcGVlZCwgZWFzaW5nLCBmbikge1xyXG5cclxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbUZyYW1lID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxyXG4gICAgICAgICAgICB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICAgICAgICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTtcclxuICAgICAgICAgICAgfTtcclxuICAgIH0pKCk7XHJcblxyXG4gICAgcmV0dXJuIHNjcm9sbFRvWShzY3JvbGxUYXJnZXRZLCBzcGVlZCwgZWFzaW5nLCBmbik7XHJcblxyXG4gICAgZnVuY3Rpb24gc2Nyb2xsVG9ZKHNjcm9sbFRhcmdldFksIHNwZWVkLCBlYXNpbmcsIGZuKSB7XHJcbiAgICAgICAgLy8gc2Nyb2xsVGFyZ2V0WTogdGhlIHRhcmdldCBzY3JvbGxZIHByb3BlcnR5IG9mIHRoZSB3aW5kb3dcclxuICAgICAgICAvLyBzcGVlZDogdGltZSBpbiBwaXhlbHMgcGVyIHNlY29uZFxyXG4gICAgICAgIC8vIGVhc2luZzogZWFzaW5nIGVxdWF0aW9uIHRvIHVzZVxyXG5cclxuICAgICAgICB2YXIgc2Nyb2xsWSA9IHdpbmRvdy5zY3JvbGxZIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AsXHJcbiAgICAgICAgICAgIHNjcm9sbFRhcmdldFkgPSBzY3JvbGxUYXJnZXRZIHx8IDAsXHJcbiAgICAgICAgICAgIHNwZWVkID0gc3BlZWQgfHwgMjAwMCxcclxuICAgICAgICAgICAgZWFzaW5nID0gZWFzaW5nIHx8ICdlYXNlT3V0U2luZScsXHJcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lID0gMDtcclxuXHJcbiAgICAgICAgLy8gbWluIHRpbWUgLjEsIG1heCB0aW1lIC44IHNlY29uZHNcclxuICAgICAgICB2YXIgdGltZSA9IE1hdGgubWF4KC4xLCBNYXRoLm1pbihNYXRoLmFicyhzY3JvbGxZIC0gc2Nyb2xsVGFyZ2V0WSkgLyBzcGVlZCwgLjgpKTtcclxuXHJcbiAgICAgICAgLy8gZWFzaW5nIGVxdWF0aW9ucyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9kYW5yby9lYXNpbmctanMvYmxvYi9tYXN0ZXIvZWFzaW5nLmpzXHJcbiAgICAgICAgdmFyIGVhc2luZ0VxdWF0aW9ucyA9IHtcclxuICAgICAgICAgICAgZWFzZU91dFNpbmU6IGZ1bmN0aW9uIChwb3MpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnNpbihwb3MgKiAoTWF0aC5QSSAvIDIpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZWFzZUluT3V0U2luZTogZnVuY3Rpb24gKHBvcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICgtMC41ICogKE1hdGguY29zKE1hdGguUEkgKiBwb3MpIC0gMSkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlYXNlSW5PdXRRdWludDogZnVuY3Rpb24gKHBvcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwb3MgLz0gMC41KSA8IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMC41ICogTWF0aC5wb3cocG9zLCA1KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAwLjUgKiAoTWF0aC5wb3coKHBvcyAtIDIpLCA1KSArIDIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gYWRkIGFuaW1hdGlvbiBsb29wXHJcbiAgICAgICAgZnVuY3Rpb24gdGljaygpIHtcclxuICAgICAgICAgICAgY3VycmVudFRpbWUgKz0gMSAvIDYwO1xyXG5cclxuICAgICAgICAgICAgdmFyIHAgPSBjdXJyZW50VGltZSAvIHRpbWU7XHJcbiAgICAgICAgICAgIHZhciB0ID0gZWFzaW5nRXF1YXRpb25zW2Vhc2luZ10ocCk7XHJcblxyXG4gICAgICAgICAgICBpZiAocCA8IDEpIHtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltRnJhbWUodGljayk7XHJcblxyXG4gICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIHNjcm9sbFkgKyAoKHNjcm9sbFRhcmdldFkgLSBzY3JvbGxZKSAqIHQpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZuKCk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgc2Nyb2xsVGFyZ2V0WSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGNhbGwgaXQgb25jZSB0byBnZXQgc3RhcnRlZFxyXG4gICAgICAgIHRpY2soKTtcclxuICAgIH1cclxuXHJcbn07XG5cbkVsZW1lbnQucHJvdG90eXBlLnByZXBlbmRDaGlsZCA9IGZ1bmN0aW9uKGNoaWxkKSB7XHJcblx0dGhpcy5pbnNlcnRCZWZvcmUoY2hpbGQsIHRoaXMuZmlyc3RDaGlsZCk7XHJcbn07XHJcblxyXG5jb25zdCBuYXZiYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2LWJhcicpO1xyXG5cclxuaWYgKG5hdmJhcikge1xyXG5cdGNvbnN0IG5hdmxpbmtzID0gbmF2YmFyLnF1ZXJ5U2VsZWN0b3IoJy5uYXYtbGlua3MnKTtcclxuXHRjb25zdCBpbml0aWFsVGl0bGUgPSBkb2N1bWVudC50aXRsZTtcclxuXHRjb25zdCBmaXhiYXIgPSBuYXZiYXIuY2xvbmVOb2RlKHRydWUpO1xyXG5cdGNvbnN0IG1lbnUgPSBmaXhiYXIucXVlcnlTZWxlY3RvcignLm5hdi1saW5rcycpO1xyXG5cdGNvbnN0IGxvZ28gPSBuYXZiYXIucXVlcnlTZWxlY3RvcignLm5hdi10b2dnbGUgLm5hdi1sb2dvJykuY2xvbmVOb2RlKHRydWUpO1xyXG5cdGNvbnN0IHNlY3Rpb25zID0gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKG1lbnUucXVlcnlTZWxlY3RvckFsbCgnYVtocmVmXj1cIiNcIl0nKSwgKGxpbmspID0+XHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxpbmsuYXR0cmlidXRlcy5ocmVmLm5vZGVWYWx1ZS50b1N0cmluZygpKSk7XHJcblxyXG5cdGZpeGJhci5jbGFzc0xpc3QuYWRkKCdmaXhlZCcpO1xyXG5cdG1lbnUucHJlcGVuZENoaWxkKGxvZ28pO1xyXG5cdG1lbnUuY2xhc3NMaXN0LmFkZCgnY2xvc2VkJyk7XHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIG9uUGFnZVNjcm9sbCwgZmFsc2UpO1xyXG5cdG5hdmJhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG5hdmlnYXRlLCBmYWxzZSk7XHJcblx0Zml4YmFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbmF2aWdhdGUsIGZhbHNlKTtcclxuXHJcblx0ZnVuY3Rpb24gb25QYWdlU2Nyb2xsKCkge1xyXG5cdFx0Y29uc3QgdG9wID0gbmF2YmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuXHRcdGNvbnN0IGlzSW5QYWdlID0gZG9jdW1lbnQuYm9keS5jb250YWlucyhmaXhiYXIpO1xyXG5cclxuXHRcdGlmICh0b3AgPD0gMCkgaXNJblBhZ2UgfHwgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmaXhiYXIpO1xyXG5cdFx0ZWxzZSBpZiAoaXNJblBhZ2UpIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZml4YmFyKTtcclxuXHJcblx0XHRsZXQgbmV3VGl0bGUsIG5ld0lkO1xyXG5cclxuXHRcdHNlY3Rpb25zLmZvckVhY2goc2VjdGlvbiA9PiB7XHJcblx0XHRcdGNvbnN0IHZsID0gc2VjdGlvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyO1xyXG5cdFx0XHRpZiAodmwgPiAwKSByZXR1cm47XHJcblx0XHRcdGlmIChzZWN0aW9uLmhhc0F0dHJpYnV0ZSgnZGF0YS10aXRsZScpKSB7XHJcblx0XHRcdFx0bmV3VGl0bGUgPSBzZWN0aW9uLmdldEF0dHJpYnV0ZSgnZGF0YS10aXRsZScpO1xyXG5cdFx0XHRcdG5ld0lkID0gc2VjdGlvbi5pZDtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRpZiAobmV3VGl0bGUpIGRvY3VtZW50LnRpdGxlID0gaW5pdGlhbFRpdGxlICsgJyAtICcgKyBuZXdUaXRsZTtcclxuXHRcdGVsc2UgZG9jdW1lbnQudGl0bGUgPSBpbml0aWFsVGl0bGU7XHJcblxyXG5cdFx0QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChtZW51LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKSwgYSA9PlxyXG5cdFx0XHRhLmF0dHJpYnV0ZXMuaHJlZi5ub2RlVmFsdWUudG9TdHJpbmcoKSA9PT0gJyMnICsgbmV3SWQgP1xyXG5cdFx0XHRcdGEuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKSA6XHJcblx0XHRcdFx0YS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpXHJcblx0XHQpO1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBuYXZpZ2F0ZShlKSB7XHJcblx0XHRpZiAobWVudS5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlZCcpKSB7XHJcblx0XHRcdG1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2VkJyk7XHJcblx0XHRcdG5hdmxpbmtzLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlZCcpO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdG1lbnUuY2xhc3NMaXN0LmFkZCgnY2xvc2VkJyk7XHJcblx0XHRcdG5hdmxpbmtzLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlZCcpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGUudGFyZ2V0LmhyZWYpIHtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRjb25zdCB0YXJnZXQgPSBlLnRhcmdldC5hdHRyaWJ1dGVzLmhyZWYubm9kZVZhbHVlLnRvU3RyaW5nKCk7XHJcblx0XHRcdGlmICghdGFyZ2V0KSByZXR1cm47XHJcblx0XHRcdGNvbnN0IGZpeGJhck9mZnNldCA9IGZpeGJhci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgfHwgbmF2YmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuXHRcdFx0Y29uc3Qgc2VjdGlvblRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcclxuXHRcdFx0aWYgKHNlY3Rpb25UYXJnZXQpIHtcclxuXHRcdFx0XHRjb25zdCBzY3JvbGxUYXJnZXQgPSBzZWN0aW9uVGFyZ2V0Lm9mZnNldFRvcCAtIGZpeGJhck9mZnNldDtcclxuXHRcdFx0XHRzY3JvbGxUb1koc2Nyb2xsVGFyZ2V0LCA1MDAsICdlYXNlSW5PdXRRdWludCcsICgpID0+IGZhbHNlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgYW5pbWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZW50cmFuY2Utc3R5bGVdJyk7XHJcblxyXG5pZiAoYW5pbWVzLmxlbmd0aCkge1xyXG5cclxuXHRjb25zdCB2aCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHJcblx0QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhbmltZXMsIChzZWN0aW9uKSA9PiBzZWN0aW9uLnNldEF0dHJpYnV0ZSgnZGF0YS1lbnRyYW5jZScsICdoaWRlJykpO1xyXG5cdFxyXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBlbnRyYW5jZUhhbmRsZXIsIGZhbHNlKTtcclxuXHRmdW5jdGlvbiBlbnRyYW5jZUhhbmRsZXIoKSB7XHJcblx0XHRBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGFuaW1lcywgYW5pbWUgPT4ge1xyXG5cdFx0XHRpZiAoYW5pbWUuZ2V0QXR0cmlidXRlKCdkYXRhLWVudHJhbmNlJykgPT09IGFuaW1lLmdldEF0dHJpYnV0ZSgnZGF0YS1lbnRyYW5jZS1zdHlsZScpKSByZXR1cm4gZmFsc2U7XHJcblx0XHRcdGNvbnN0IHRvcCA9IGFuaW1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuXHRcdFx0aWYgKHRvcCA8PSB2aCAqIDAuNzUpIGFuaW1lLnNldEF0dHJpYnV0ZSgnZGF0YS1lbnRyYW5jZScsIGFuaW1lLmdldEF0dHJpYnV0ZSgnZGF0YS1lbnRyYW5jZS1zdHlsZScpKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcbn1cclxuXHJcbmNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iZy1jYW1pbmhhbycpO1xyXG5cclxuaWYgKGNvbnRhaW5lcikge1xyXG5cdGNvbnN0IG9mZnNldCA9IDMwMDtcclxuXHRjb25zdCBpbm5lciA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuYmctY2FtaW5oYW8taW5uZXInKTtcclxuXHRjb25zdCB2aCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHRcclxuXHRzdHlsZU9mZnNldChvZmZzZXQpO1xyXG5cdGlubmVyLnN0eWxlLnJpZ2h0ID0gb2Zmc2V0ICogKC0xKSArICdweCc7XHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNjcm9sbEhhbmRsZXIsIGZhbHNlKTtcclxuXHJcblx0ZnVuY3Rpb24gc2Nyb2xsSGFuZGxlcigpIHtcclxuXHRcdGNvbnN0IHQgPSBpbm5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcblx0XHRpZiAodDw9dmggJiYgdD49MCkgc3R5bGVPZmZzZXQoTWF0aC5jZWlsKHQpIC8gdmggKiBvZmZzZXQpO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gc3R5bGVPZmZzZXQobikge2lubmVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoJyArIG4gKiAoLTEpICsgJ3B4KSc7fVxyXG59XG5cbn0oKSk7XG4iXX0=
